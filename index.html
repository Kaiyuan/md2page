<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>md2page - Markdown 转 HTML 转换器</title>
    <link rel="stylesheet" href="./styles/themes.css">
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./styles/print.css" media="print">
</head>
<body>
    <div id="app">
        <header class="app-header">
            <div class="header-content">
                <h1>md2page</h1>
                <div class="header-controls">
                    <!-- 主题切换按钮将在这里动态创建 -->
                    <button id="print-btn" class="print-btn" disabled>
                        <span>🖨️</span>
                        打印
                    </button>
                    <button id="download-btn" class="download-btn" disabled>
                        <span>⬇️</span>
                        下载 HTML
                    </button>
                </div>
            </div>
        </header>
        
        <main class="app-main">
            <div class="input-panel" id="input-panel">
                <!-- 输入面板内容将由 JavaScript 生成 -->
            </div>
            
            <div class="preview-panel" id="preview-panel">
                <!-- 预览面板内容将由 JavaScript 生成 -->
            </div>
        </main>
    </div>

    <!-- 引入 marked.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
    
    <!-- 引入 Prism.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">
    
    <!-- 等待依赖加载完成后再加载应用 -->
    <script>
        // 确保 marked 库已加载
        function waitForDependencies() {
            if (typeof marked !== 'undefined') {
                // 加载核心类库
                const classesScript = document.createElement('script');
                classesScript.src = './js/classes.js';
                classesScript.onload = function() {
                    // 加载主应用
                    const mainScript = document.createElement('script');
                    mainScript.src = './js/main.js';
                    document.head.appendChild(mainScript);
                };
                document.head.appendChild(classesScript);
            } else {
                // 如果依赖还没加载完成，等待一下再检查
                setTimeout(waitForDependencies, 100);
            }
        }
        
        // 开始等待依赖
        waitForDependencies();
    </script>
</body>
</html>